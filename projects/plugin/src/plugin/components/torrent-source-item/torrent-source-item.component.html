<div class="row">
  <button class="ion-focusable download" (click)="download()">
    <ion-ripple-effect></ion-ripple-effect>
    <p style="font-size: 15px">
      {{ source.title }}
      @if (isBestSource === true) {
        <ion-icon size="small" color="warning" name="trophy-outline"></ion-icon>
      }
      <br />
    </p>
    <p>
      <ion-grid class="ion-no-margin ion-no-padding">
        <ion-row>
          <ion-col class="ion-text-left ion-no-margin ion-no-padding">
            <ion-badge class="ion-margin-end"> {{ source.quality === 'other' ? 'SD' : source.quality }}</ion-badge>

            @if (source.size !== null) {
              <ion-badge color="light"> {{ source.size | bsFileSize }}</ion-badge>
            }
            @if (source.size === null) {
              <ion-badge color="warning"> ? MB</ion-badge>
            }
            @if (source.isPackage) {
              <ion-icon name="cube-outline" class="ion-margin-start"></ion-icon>
            }
          </ion-col>

          <ion-col class="ion-text-right ion-no-margin ion-no-padding">
            @if (source.seeds !== null) {
              <ion-badge
                color="{{ source.seeds >= 20 ? (source.peers > source.seeds ? 'warning' : 'success') : 'danger' }}"
                >S: {{ source.seeds }} / L: {{ source.peers }}
              </ion-badge>
            }
            @if (source.seeds === null) {
              <ion-badge color="warning">S: ? / L: ?</ion-badge>
            }
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col class="ion-text-left ion-no-margin ion-no-padding">
            <ion-badge color="dark">{{ source.provider }}</ion-badge>
          </ion-col>

          @if (source.isCached) {
            <ion-col class="ion-text-right ion-no-margin ion-no-padding">
              <ion-badge> Cached {{ source.cachedService }} </ion-badge>
            </ion-col>
          }
        </ion-row>
      </ion-grid>
    </p>
  </button>
</div>
